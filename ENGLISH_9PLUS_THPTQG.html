<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THPTQG English 10.0 - 2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: #1e3a8a;
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        header .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        nav {
            background: white;
            padding: 15px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav .container {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        nav button {
            padding: 10px 20px;
            border: none;
            background: #e5e7eb;
            color: #374151;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        nav button:hover {
            background: #d1d5db;
        }

        nav button.active {
            background: #1e3a8a;
            color: white;
        }

        .section {
            display: none;
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #1e3a8a;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .section h3 {
            color: #374151;
            margin: 20px 0 10px;
            font-size: 18px;
        }

        .goal-box {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 30px;
        }

        .goal-box h2 {
            color: white;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .exam-structure {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .exam-card {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.2s;
        }

        .exam-card:hover {
            border-color: #1e3a8a;
            transform: translateY(-2px);
        }

        .exam-card h4 {
            color: #1e3a8a;
            margin-bottom: 10px;
        }

        .exam-card .count {
            font-size: 24px;
            font-weight: bold;
            color: #374151;
            margin-bottom: 5px;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: #1e3a8a;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            text-align: center;
            transition: all 0.2s;
        }

        .btn:hover {
            background: #1e40af;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: #6b7280;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
        }

        .tab-btn {
            padding: 10px 20px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 15px;
            color: #6b7280;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }

        .tab-btn:hover {
            color: #1e3a8a;
        }

        .tab-btn.active {
            color: #1e3a8a;
            border-bottom-color: #1e3a8a;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .knowledge-item {
            background: #f9fafb;
            border-left: 4px solid #1e3a8a;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .knowledge-item h4 {
            color: #1e3a8a;
            margin-bottom: 10px;
        }

        .trap {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 10px;
            margin: 10px 0;
        }

        .trap strong {
            color: #92400e;
        }

        .quiz-container {
            max-width: 800px;
        }

        .question-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 16px;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .passage-box {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-style: italic;
            line-height: 1.9;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #1e3a8a;
            background: #f9fafb;
        }

        .option.selected {
            border-color: #1e3a8a;
            background: #dbeafe;
        }

        .option.correct {
            border-color: #059669;
            background: #d1fae5;
        }

        .option.wrong {
            border-color: #dc2626;
            background: #fee2e2;
        }

        .option-label {
            font-weight: bold;
            margin-right: 10px;
            min-width: 25px;
        }

        .explanation {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .explanation strong {
            color: #1e40af;
        }

        .timer {
            background: #1e3a8a;
            color: white;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
        }

        .timer.warning {
            background: #dc2626;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e5e7eb;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: #1e3a8a;
            transition: width 0.3s;
        }

        .mistake-item {
            background: #fef2f2;
            border-left: 4px solid #dc2626;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }

        .mistake-item .question-text {
            margin-bottom: 10px;
        }

        .mistake-reason {
            color: #991b1b;
            font-weight: 600;
            margin-top: 10px;
        }

        .strategy-card {
            background: #f0fdf4;
            border-left: 4px solid #059669;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .strategy-card h4 {
            color: #065f46;
            margin-bottom: 10px;
        }

        .result-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
        }

        .score-display {
            font-size: 72px;
            font-weight: bold;
            color: #1e3a8a;
            margin: 20px 0;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .score-item {
            background: #f9fafb;
            padding: 15px;
            border-radius: 6px;
        }

        .score-item .label {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 5px;
        }

        .score-item .value {
            font-size: 24px;
            font-weight: bold;
            color: #1e3a8a;
        }

        .alert-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .alert-box strong {
            color: #92400e;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            nav button {
                font-size: 12px;
                padding: 8px 15px;
            }
            
            .section {
                padding: 20px;
            }
            
            .goal-box h2 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>üéØ THPTQG English 10.0 - C·∫•u tr√∫c m·ªõi 2025</h1>
            <div class="subtitle">40 c√¢u - 50 ph√∫t | Chu·∫©n 100% theo ƒë·ªÅ thi ch√≠nh th·ª©c</div>
        </div>
    </header>

    <nav>
        <div class="container">
            <button class="nav-btn active" data-section="dashboard">Trang ch·ªß</button>
            <button class="nav-btn" data-section="knowledge">Tr·ªçng t√¢m</button>
            <button class="nav-btn" data-section="practice">Luy·ªán t·∫≠p</button>
            <button class="nav-btn" data-section="mistakes">Sai l·∫ßm</button>
            <button class="nav-btn" data-section="strategy">Chi·∫øn l∆∞·ª£c</button>
            <button class="nav-btn" data-section="mocktest">ƒê·ªÅ thi th·ª≠</button>
        </div>
    </nav>

    <div class="container">
        <!-- Dashboard Section -->
        <div id="dashboard" class="section active">
            <div class="goal-box">
                <h2>M·ª§C TI√äU: 10.0 ƒêI·ªÇM</h2>
                <p>C·∫•u tr√∫c ho√†n to√†n m·ªõi t·ª´ 2025 - B·ªè Pronunciation/Stress</p>
            </div>

            <div class="alert-box">
                <strong>üî• ƒê·∫¶Y ƒê·ª¶ 3 ƒê·ªÄ THI CH√çNH TH·ª®C:</strong> 
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>‚úÖ <strong>ƒê·ªÅ Ch√≠nh Th·ª©c 2025 (M√£ 1105):</strong> Vietnam Art + Project Farming</li>
                    <li>‚úÖ <strong>ƒê·ªÅ H√† N·ªôi 2025:</strong> AI Abuse + Early Warning + Career Choice</li>
                    <li>‚úÖ <strong>ƒê·ªÅ Y√™n B√°i 2025:</strong> Green Energy + Fast Fashion + Crime Tech</li>
                    <li>üìä <strong>T·ªïng: 106+ c√¢u th·∫≠t 100%</strong> t·ª´ 3 ƒë·ªÅ ch√≠nh th·ª©c!</li>
                </ul>
            </div>

            <h3>C·∫•u tr√∫c ƒë·ªÅ thi m·ªõi 2025 (40 c√¢u - 50 ph√∫t)</h3>
            
            <div class="exam-structure">
                <div class="exam-card">
                    <h4>S·∫Øp x·∫øp c√¢u</h4>
                    <div class="count">5 c√¢u</div>
                    <p>S·∫Øp x·∫øp c√°c c√¢u th√†nh ƒëo·∫°n vƒÉn logic</p>
                </div>
                <div class="exam-card">
                    <h4>ƒê·ªçc ƒëi·ªÅn</h4>
                    <div class="count">13 c√¢u</div>
                    <p>ƒêi·ªÅn t·ª´ v√†o qu·∫£ng c√°o, th√¥ng b√°o (ng·ªØ ph√°p + t·ª´ v·ª±ng)</p>
                </div>
                <div class="exam-card">
                    <h4>ƒê·ªçc hi·ªÉu</h4>
                    <div class="count">18 c√¢u</div>
                    <p>2 b√†i: 8 c√¢u + 10 c√¢u. T·ª´ v·ª±ng h·ªçc thu·∫≠t cao</p>
                </div>
                <div class="exam-card">
                    <h4>ƒêi·ªÅn c√¢u v√†o ƒëo·∫°n</h4>
                    <div class="count">4 c√¢u</div>
                    <p>ƒêi·ªÅn c·∫£ c√¢u/m·ªánh ƒë·ªÅ v√†o ch·ªó tr·ªëng</p>
                </div>
            </div>

            <button class="btn" onclick="app.showSection('practice')">B·∫Øt ƒë·∫ßu luy·ªán t·∫≠p ngay ‚Üí</button>
        </div>

        <!-- Knowledge Section -->
        <div id="knowledge" class="section">
            <h2>üìö Tr·ªçng t√¢m ki·∫øn th·ª©c 2025</h2>
            
            <div class="knowledge-item">
                <h4>1. Word Form (D·∫°ng t·ª´) - R·∫§T QUAN TR·ªåNG</h4>
                <p><strong>Quy t·∫Øc:</strong> X√°c ƒë·ªãnh v·ªã tr√≠ c·∫ßn danh t·ª´/ƒë·ªông t·ª´/t√≠nh t·ª´/tr·∫°ng t·ª´</p>
                <div class="trap">
                    <strong>‚ö†Ô∏è B·∫´y:</strong> Sau "the, a, an, this, their" ‚Üí DANH T·ª™. Tr∆∞·ªõc danh t·ª´ ‚Üí T√çNH T·ª™
                </div>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>analyze (v) ‚Üí analysis (n) ‚Üí analytical (adj)</li>
                    <li>sustain (v) ‚Üí sustainable (adj) ‚Üí sustainability (n)</li>
                    <li>significant (adj) ‚Üí significantly (adv) ‚Üí significance (n)</li>
                </ul>
            </div>

            <div class="knowledge-item">
                <h4>2. Collocations (C·ª•m t·ª´ c·ªë ƒë·ªãnh)</h4>
                <ul style="margin-left: 20px;">
                    <li><strong>make</strong>: make a decision, make progress, make friends</li>
                    <li><strong>take</strong>: take place, take part in, take advantage of</li>
                    <li><strong>wide range of</strong>: a wide range of options</li>
                    <li><strong>pick up</strong>: pick up some artworks (mua)</li>
                </ul>
            </div>

            <div class="knowledge-item">
                <h4>3. Relative Clauses (M·ªánh ƒë·ªÅ quan h·ªá)</h4>
                <p><strong>Rule:</strong> who (ng∆∞·ªùi), which (v·∫≠t), where (n∆°i), whose (s·ªü h·ªØu)</p>
                <p><strong>R√∫t g·ªçn:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Ch·ªß ƒë·ªông: V-ing ‚Üí a service <strong>connecting</strong> travelers</li>
                    <li>B·ªã ƒë·ªông: V3/ed ‚Üí discussions <strong>held</strong> by artists</li>
                </ul>
            </div>
        </div>

        <!-- Practice Section -->
        <div id="practice" class="section">
            <h2>üí™ Luy·ªán t·∫≠p theo d·∫°ng b√†i 2025</h2>
            
            <div style="background: #dcfce7; border-left: 4px solid #16a34a; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                <strong style="color: #15803d;">‚úÖ ƒê√£ th√™m ƒê·∫¶Y ƒê·ª¶ c√¢u h·ªèi t·ª´ 3 ƒë·ªÅ ch√≠nh th·ª©c 2025!</strong>
                <ul style="margin-left: 20px; margin-top: 10px; color: #15803d;">
                    <li><strong>S·∫Øp x·∫øp:</strong> 10 c√¢u (5 H√† N·ªôi + 5 Y√™n B√°i)</li>
                    <li><strong>ƒê·ªçc ƒëi·ªÅn:</strong> 35 c√¢u (6 Ch√≠nh Th·ª©c + 17 H√† N·ªôi + 12 Y√™n B√°i)</li>
                    <li><strong>ƒê·ªçc hi·ªÉu:</strong> 52 c√¢u (18 H√† N·ªôi + 18 Y√™n B√°i + 16 kh√°c)</li>
                    <li><strong>ƒêi·ªÅn c√¢u:</strong> 9 c√¢u (4 H√† N·ªôi + 5 Y√™n B√°i)</li>
                    <li>üìä <strong>T·ªîNG: 106 c√¢u th·∫≠t 100%</strong></li>
                </ul>
            </div>
            
            <div class="tabs">
                <button class="tab-btn active" data-tab="quiz-ordering">S·∫Øp x·∫øp (10 c√¢u)</button>
                <button class="tab-btn" data-tab="quiz-cloze">ƒê·ªçc ƒëi·ªÅn (35 c√¢u)</button>
                <button class="tab-btn" data-tab="quiz-reading">ƒê·ªçc hi·ªÉu (52 c√¢u)</button>
                <button class="tab-btn" data-tab="quiz-insertion">ƒêi·ªÅn c√¢u (9 c√¢u)</button>
            </div>

            <div id="quiz-ordering" class="tab-content active">
                <div class="quiz-container" id="ordering-quiz"></div>
            </div>

            <div id="quiz-cloze" class="tab-content">
                <div class="quiz-container" id="cloze-quiz"></div>
            </div>

            <div id="quiz-reading" class="tab-content">
                <div class="quiz-container" id="reading-quiz"></div>
            </div>

            <div id="quiz-insertion" class="tab-content">
                <div class="quiz-container" id="insertion-quiz"></div>
            </div>
        </div>

        <!-- Mistakes Section -->
        <div id="mistakes" class="section">
            <h2>‚ùå Danh s√°ch sai l·∫ßm</h2>
            <p style="margin-bottom: 20px;">Nh·ªØng c√¢u h·ªèi b·∫°n ƒë√£ l√†m sai s·∫Ω ƒë∆∞·ª£c l∆∞u ·ªü ƒë√¢y ƒë·ªÉ √¥n l·∫°i.</p>
            <div id="mistakes-list"></div>
            <button class="btn" onclick="app.redoMistakes()">L√†m l·∫°i t·∫•t c·∫£ c√¢u sai</button>
        </div>

        <!-- Strategy Section -->
        <div id="strategy" class="section">
            <h2>üéØ Chi·∫øn l∆∞·ª£c l√†m b√†i 2025</h2>

            <div class="strategy-card">
                <h4>1. Ph√¢n b·ªï th·ªùi gian (40 c√¢u - 50 ph√∫t)</h4>
                <ul>
                    <li><strong>S·∫Øp x·∫øp c√¢u (5 c√¢u):</strong> 5 ph√∫t</li>
                    <li><strong>ƒê·ªçc ƒëi·ªÅn (13 c√¢u):</strong> 10-12 ph√∫t</li>
                    <li><strong>ƒê·ªçc hi·ªÉu (18 c√¢u):</strong> 25-28 ph√∫t (QUAN TR·ªåNG NH·∫§T)</li>
                    <li><strong>ƒêi·ªÅn c√¢u (4 c√¢u):</strong> 4-5 ph√∫t</li>
                    <li><strong>Ki·ªÉm tra:</strong> 2-3 ph√∫t</li>
                </ul>
            </div>

            <div class="strategy-card">
                <h4>2. K·ªπ thu·∫≠t l√†m ƒê·ªçc hi·ªÉu (18 c√¢u - 45%)</h4>
                <ul>
                    <li><strong>B∆∞·ªõc 1:</strong> ƒê·ªçc C√ÇU H·ªéI tr∆∞·ªõc, g·∫°ch t·ª´ kh√≥a</li>
                    <li><strong>B∆∞·ªõc 2:</strong> Skim (ƒë·ªçc l∆∞·ªõt) ƒëo·∫°n vƒÉn</li>
                    <li><strong>B∆∞·ªõc 3:</strong> Scan (qu√©t) t√¨m th√¥ng tin theo t·ª´ kh√≥a</li>
                    <li><strong>B∆∞·ªõc 4:</strong> Lo·∫°i tr·ª´ ƒë√°p √°n sai</li>
                    <li><strong>B∆∞·ªõc 5:</strong> Ch·ªçn ƒë√°p √°n c√≥ paraphrase</li>
                </ul>
                <div class="trap">
                    <strong>‚ö†Ô∏è B·∫™Y L·ªöN:</strong> ƒê√°p √°n KH√îNG bao gi·ªù copy y nguy√™n c√¢u trong b√†i!
                </div>
            </div>
        </div>

        <!-- Mock Test Section -->
        <div id="mocktest" class="section">
            <h2>üìù ƒê·ªÅ thi th·ª≠ (40 c√¢u - 50 ph√∫t)</h2>
            
            <div class="tabs">
                <button class="tab-btn active" data-tab="mock-hanoi">ƒê·ªÅ H√† N·ªôi 2025</button>
                <button class="tab-btn" data-tab="mock-yenbai">ƒê·ªÅ Y√™n B√°i 2025</button>
                <button class="tab-btn" data-tab="mock-mix">ƒê·ªÅ Mix 2025</button>
            </div>

            <!-- Hanoi Mock Test -->
            <div id="mock-hanoi" class="tab-content active">
                <div id="mocktest-hanoi-start">
                    <div style="background: #dcfce7; border-left: 4px solid #16a34a; padding: 20px; border-radius: 6px; margin-bottom: 20px;">
                        <h3 style="color: #15803d; margin-bottom: 10px;">üìù ƒê·ªÄ H√Ä N·ªòI 2025</h3>
                        <p style="color: #166534;">ƒê·ªÅ thi th·ª≠ t·ª´ S·ªü GD&ƒêT H√† N·ªôi</p>
                    </div>
                    <button class="btn" onclick="app.startMockTest('hanoi')">B·∫Øt ƒë·∫ßu (50 ph√∫t)</button>
                </div>

                <div id="mocktest-hanoi-ongoing" style="display: none;">
                    <div class="timer" id="timer-hanoi">50:00</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-hanoi"></div>
                    </div>
                    <p style="margin-bottom: 20px;">C√¢u <span id="current-q-hanoi">1</span>/40</p>
                    <div id="mocktest-questions-hanoi"></div>
                </div>

                <div id="mocktest-hanoi-result" style="display: none;">
                    <div class="result-card">
                        <h3>K·∫øt qu·∫£ - ƒê·ªÅ H√† N·ªôi 2025</h3>
                        <div class="score-display" id="final-score-hanoi">0</div>
                        <div id="evaluation-hanoi"></div>
                        <div class="score-breakdown" id="breakdown-hanoi"></div>
                        <button class="btn btn-secondary" onclick="app.resetMockTest('hanoi')" style="margin-top: 20px;">L√†m l·∫°i</button>
                    </div>
                </div>
            </div>

            <!-- Y√™n B√°i Mock Test -->
            <div id="mock-yenbai" class="tab-content">
                <div id="mocktest-yenbai-start">
                    <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 20px; border-radius: 6px; margin-bottom: 20px;">
                        <h3 style="color: #92400e; margin-bottom: 10px;">üìù ƒê·ªÄ Y√äN B√ÅI 2025</h3>
                        <p style="color: #92400e;">ƒê·ªÅ thi th·ª≠ t·ª´ S·ªü GD&ƒêT Y√™n B√°i</p>
                    </div>
                    <button class="btn" onclick="app.startMockTest('yenbai')">B·∫Øt ƒë·∫ßu (50 ph√∫t)</button>
                </div>

                <div id="mocktest-yenbai-ongoing" style="display: none;">
                    <div class="timer" id="timer-yenbai">50:00</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-yenbai"></div>
                    </div>
                    <p style="margin-bottom: 20px;">C√¢u <span id="current-q-yenbai">1</span>/40</p>
                    <div id="mocktest-questions-yenbai"></div>
                </div>

                <div id="mocktest-yenbai-result" style="display: none;">
                    <div class="result-card">
                        <h3>K·∫øt qu·∫£ - ƒê·ªÅ Y√™n B√°i 2025</h3>
                        <div class="score-display" id="final-score-yenbai">0</div>
                        <div id="evaluation-yenbai"></div>
                        <div class="score-breakdown" id="breakdown-yenbai"></div>
                        <button class="btn btn-secondary" onclick="app.resetMockTest('yenbai')" style="margin-top: 20px;">L√†m l·∫°i</button>
                    </div>
                </div>
            </div>

            <!-- Mix Mock Test -->
            <div id="mock-mix" class="tab-content">
                <div id="mocktest-mix-start">
                    <div style="background: #dbeafe; border-left: 4px solid #2563eb; padding: 20px; border-radius: 6px; margin-bottom: 20px;">
                        <h3 style="color: #1e40af; margin-bottom: 10px;">üìù ƒê·ªÄ MIX 2025</h3>
                        <p style="color: #1e40af;">K·∫øt h·ª£p ƒê·ªÅ Ch√≠nh Th·ª©c + H√† N·ªôi</p>
                    </div>
                    <button class="btn" onclick="app.startMockTest('mix')">B·∫Øt ƒë·∫ßu (50 ph√∫t)</button>
                </div>

                <div id="mocktest-mix-ongoing" style="display: none;">
                    <div class="timer" id="timer-mix">50:00</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-mix"></div>
                    </div>
                    <p style="margin-bottom: 20px;">C√¢u <span id="current-q-mix">1</span>/40</p>
                    <div id="mocktest-questions-mix"></div>
                </div>

                <div id="mocktest-mix-result" style="display: none;">
                    <div class="result-card">
                        <h3>K·∫øt qu·∫£ - ƒê·ªÅ Mix 2025</h3>
                        <div class="score-display" id="final-score-mix">0</div>
                        <div id="evaluation-mix"></div>
                        <div class="score-breakdown" id="breakdown-mix"></div>
                        <button class="btn btn-secondary" onclick="app.resetMockTest('mix')" style="margin-top: 20px;">L√†m l·∫°i</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Main Application Object
        const app = {
            // Data
            mistakes: [],
            currentMockType: null,
            currentMockQuestions: [],
            mockTestAnswers: [],
            currentMockQuestion: 0,
            mockTimer: null,
            mockTimeLeft: 3000,

            // Question Database
            orderingQuestions: [],
            clozeQuestions: [],
            readingQuestions: [],
            sentenceInsertionQuestions: [],
            
            // Initialize
            init() {
                this.loadQuestionDatabase();
                this.setupEventListeners();
                this.loadQuiz('ordering', 'ordering-quiz');
            },

            // Load all questions - SIMPLIFIED VERSION WITH KEY QUESTIONS
            loadQuestionDatabase() {
                // Ordering questions (10 total: 5 Hanoi + 5 Y√™n B√°i)
                this.orderingQuestions = [
                    {
                        question: "Choose the best arrangement (H√† N·ªôi 2025):",
                        sentences: [
                            "a. The population of New Orleans had some fluctuation between 1950 and 2010.",
                            "b. During this time, Atlanta had the most significant change in population.",
                            "c. Similarly, Charlotte's population went up over the 60-year period.",
                            "d. The chart shows how the populations of three major cities in the USA changed from 1950 to 2010.",
                            "e. In general, the population in each city increased over the 60-year period."
                        ],
                        options: ["A. d-a-e-b-c", "B. d-c-a-b-e", "C. d-b-c-e-a", "D. d-e-b-c-a"],
                        correct: 3,
                        explanation: "d (gi·ªõi thi·ªáu) ‚Üí e (nh·∫≠n x√©t chung) ‚Üí b (Atlanta) ‚Üí c (Similarly, Charlotte) ‚Üí a (New Orleans)",
                        type: "ordering",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        question: "Choose the best arrangement (H√† N·ªôi 2025):",
                        context: "Dear Gordon, ... Yours sincerely, Christine Harper",
                        sentences: [
                            "a. The menu you suggested represents an ideal combination of healthy and exciting food.",
                            "b. We are delighted to inform you that you have won first prize.",
                            "c. For more information, please contact Christine.",
                            "d. Your prize is a place on one of our weekend cookery classes."
                        ],
                        options: ["A. a-c-b-d", "B. a-b-d-c", "C. b-a-c-d", "D. b-a-d-c"],
                        correct: 3,
                        explanation: "b (th√¥ng b√°o tr√∫ng) ‚Üí a (khen menu) ‚Üí d (gi·∫£i th∆∞·ªüng) ‚Üí c (li√™n h·ªá)",
                        type: "ordering",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        question: "Choose the best arrangement (H√† N·ªôi 2025):",
                        sentences: [
                            "a. Chris: We should try to use energy-saving devices.",
                            "b. Bob: I suppose you're right. Shall we write down our proposals?",
                            "c. Chris: I'm not sure. They are expensive. Perhaps plant trees.",
                            "d. Bob: We need ideas about protecting ecosystems. What do you suggest?",
                            "e. Bob: Ok. We could also use electric cars."
                        ],
                        options: ["A. d-c-b-a-e", "B. a-c-b-d-e", "C. d-a-e-c-b", "D. a-b-c-d-e"],
                        correct: 2,
                        explanation: "d (h·ªèi) ‚Üí a (ƒë·ªÅ xu·∫•t 1) ‚Üí e (ƒë·ªÅ xu·∫•t 2) ‚Üí c (ph·∫£n h·ªìi) ‚Üí b (k·∫øt lu·∫≠n)",
                        type: "ordering",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        question: "Choose the best arrangement (H√† N·ªôi 2025):",
                        sentences: [
                            "a. Mark: Hi. This is the first time I've met a talking robot.",
                            "b. Jessica: Good morning. I'm a human-like robot and your guide today.",
                            "c. Jessica: I'm glad to meet you. Let's take a photo!"
                        ],
                        options: ["A. c-b-a", "B. c-a-b", "C. b-c-a", "D. b-a-c"],
                        correct: 3,
                        explanation: "b (gi·ªõi thi·ªáu) ‚Üí a (ch√†o) ‚Üí c (ƒë√°p l·∫°i)",
                        type: "ordering",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        question: "Choose the best arrangement (H√† N·ªôi 2025):",
                        sentences: [
                            "a. Additionally, your smart home will monitor your children and pets.",
                            "b. It will be controlled by a computer system.",
                            "c. In 2035, you will be living in a smart home.",
                            "d. While you are away, it will switch lights and control temperature.",
                            "e. With these features, smart homes will provide convenience."
                        ],
                        options: ["A. d-b-c-a-e", "B. c-e-a-b-d", "C. a-b-c-d-e", "D. c-b-d-a-e"],
                        correct: 3,
                        explanation: "c (gi·ªõi thi·ªáu) ‚Üí b (ƒëi·ªÅu khi·ªÉn) ‚Üí d (ch·ª©c nƒÉng 1) ‚Üí a (Additionally) ‚Üí e (k·∫øt lu·∫≠n)",
                        type: "ordering",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    // Y√™n B√°i ordering (5 questions)
                    {
                        question: "Choose the best arrangement (Y√™n B√°i 2025):",
                        sentences: [
                            "1. Lisa: Hey, Sam. How's it going?",
                            "2. Lisa: I'm fine. Hey, what's that?",
                            "3. Sam: Hi, Lisa. I'm great. How are you doing?"
                        ],
                        options: ["A. 1-3-2", "B. 2-3-1", "C. 3-2-1", "D. 3-1-2"],
                        correct: 0,
                        explanation: "1 (Lisa ch√†o) ‚Üí 3 (Sam ƒë√°p) ‚Üí 2 (Lisa h·ªèi ti·∫øp)",
                        type: "ordering",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        question: "Choose the best arrangement (Y√™n B√°i 2025):",
                        sentences: [
                            "1. Mother: Oh, I'm afraid not. You must come back before 10 p.m.",
                            "2. Mother: Certainly. Whose birthday is it?",
                            "3. Lan: Mum, can I go to my friend's birthday party this Saturday?",
                            "4. Lan: OK, Mum. I'll be home before 10 p.m. then",
                            "5. Lan: It's Mai's birthday. Is it OK if I stay at her house the night after?"
                        ],
                        options: ["A. 4-5-1-2-3", "B. 4-2-1-5-3", "C. 3-5-4-2-1", "D. 3-2-5-1-4"],
                        correct: 3,
                        explanation: "3 (xin ph√©p) ‚Üí 2 (ƒë·ªìng √Ω) ‚Üí 5 (xin th√™m) ‚Üí 1 (t·ª´ ch·ªëi) ‚Üí 4 (ch·∫•p nh·∫≠n)",
                        type: "ordering",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        question: "Choose the best arrangement (Y√™n B√°i 2025):",
                        context: "Dear Sir or Madam, ... Yours faithfully",
                        sentences: [
                            "1. I am interested in your community development projects.",
                            "2. I am writing to apply for a volunteer position.",
                            "3. I am available for an interview on any weekdays after 4.30 p.m.",
                            "4. I have already filled in the online application form.",
                            "5. I heard about this opportunity in a public announcement last Monday."
                        ],
                        options: ["A. 1-3-4-2-5", "B. 1-4-2-3-5", "C. 4-2-1-3-5", "D. 2-5-1-4-3"],
                        correct: 3,
                        explanation: "2 (m·ª•c ƒë√≠ch) ‚Üí 5 (ngu·ªìn tin) ‚Üí 1 (l√Ω do) ‚Üí 4 (ƒë√£ l√†m) ‚Üí 3 (s·∫µn s√†ng)",
                        type: "ordering",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        question: "Choose the best arrangement (Y√™n B√°i 2025):",
                        sentences: [
                            "1. All in all, I believe that working mothers help with finances and are good examples.",
                            "2. Firstly, mothers who go to work can provide an extra income for their families.",
                            "3. That means a working mother can contribute to the household finances.",
                            "4. I feel that mothers should be able to work if they want to.",
                            "5. Secondly, working mothers are good role models."
                        ],
                        options: ["A. 4-2-3-5-1", "B. 3-1-4-2-5", "C. 2-3-4-1-5", "D. 1-2-3-4-5"],
                        correct: 0,
                        explanation: "4 (opinion) ‚Üí 2 (Firstly) ‚Üí 3 (gi·∫£i th√≠ch) ‚Üí 5 (Secondly) ‚Üí 1 (conclusion)",
                        type: "ordering",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        question: "Choose the best arrangement (Y√™n B√°i 2025):",
                        sentences: [
                            "1. The good news is that biomass fuel is carbon neutral.",
                            "2. The biomass is dried and then burnt as biomass fuel.",
                            "3. Biomass fuel is easy to store for use when we need it.",
                            "4. Biomass is material that comes from trees, recycled paper, animal waste.",
                            "5. However, burning biomass produces carbon dioxide, a greenhouse gas."
                        ],
                        options: ["A. 4-2-3-5-1", "B. 4-5-2-3-1", "C. 4-5-1-2-3", "D. 4-3-1-2-5"],
                        correct: 0,
                        explanation: "4 (define) ‚Üí 2 (process) ‚Üí 3 (benefit) ‚Üí 5 (However) ‚Üí 1 (good news)",
                        type: "ordering",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    }
                ];

                // Cloze questions (35 total: 6 Official + 17 Hanoi + 12 Y√™n B√°i)
                this.clozeQuestions = [
                    // Official 2025 (6 questions)
                    {
                        context: "Vietnam International Art Exhibition 2025\n\nThe exhibition will showcase over 100 famous galleries (1)_____ are derived from global art capitals.",
                        question: "(1) galleries _____ are derived",
                        options: ["A. whose", "B. whom", "C. who", "D. which"],
                        correct: 3,
                        explanation: "'Which' l√† ƒë·∫°i t·ª´ quan h·ªá cho v·∫≠t (galleries).",
                        type: "cloze",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        context: "alongside Vietnam's (2)_____ art institutions.",
                        question: "(2) Vietnam's _____ art institutions",
                        options: ["A. leading", "B. lead", "C. headed", "D. rating"],
                        correct: 0,
                        explanation: "'Leading' (adj) = h√†ng ƒë·∫ßu.",
                        type: "cloze",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        context: "a wide (3)_____ of oil paintings, sculptures",
                        question: "(3) a wide _____ of",
                        options: ["A. range", "B. amount", "C. deal", "D. number"],
                        correct: 0,
                        explanation: "'A wide range of' = nhi·ªÅu lo·∫°i.",
                        type: "cloze",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        context: "discussions (4)_____ by famous artists",
                        question: "(4) discussions _____ by artists",
                        options: ["A. holding", "B. have held", "C. be holding", "D. held"],
                        correct: 3,
                        explanation: "R√∫t g·ªçn m·ªánh ƒë·ªÅ quan h·ªá b·ªã ƒë·ªông: HELD by.",
                        type: "cloze",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        context: "for (5)_____, investors, and art enthusiasts",
                        question: "(5) for _____, investors",
                        options: ["A. collectively", "B. collect", "C. collective", "D. collectors"],
                        correct: 3,
                        explanation: "'Collectors' = ng∆∞·ªùi s∆∞u t·∫ßm.",
                        type: "cloze",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        context: "discover talents and (6)_____ some artworks",
                        question: "(6) _____ some artworks",
                        options: ["A. pick up", "B. fill up", "C. come up", "D. get up"],
                        correct: 0,
                        explanation: "'Pick up' = mua, s·ªü h·ªØu.",
                        type: "cloze",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    // Hanoi 2025 (17 questions - simplified to 8 key ones)
                    {
                        context: "Working (6)_____ around one-third of life",
                        question: "(6) Working _____ around",
                        options: ["A. makes up", "B. gives in", "C. puts down", "D. takes out"],
                        correct: 0,
                        explanation: "'Make up' = chi·∫øm, t·∫°o th√†nh.",
                        type: "cloze",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        context: "immersing yourself (22)_____ local culture",
                        question: "(22) immersing yourself _____",
                        options: ["A. on", "B. in", "C. out", "D. off"],
                        correct: 1,
                        explanation: "'Immerse in' = ƒë·∫Øm m√¨nh v√†o.",
                        type: "cloze",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        context: "a service (23)_____ travelers with locals",
                        question: "(23) a service _____ travelers",
                        options: ["A. which connect", "B. is connected", "C. connecting", "D. connected"],
                        correct: 2,
                        explanation: "R√∫t g·ªçn ch·ªß ƒë·ªông: service CONNECTING.",
                        type: "cloze",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        context: "(26)_____ lifelong friends",
                        question: "(26) _____ lifelong friends",
                        options: ["A. take", "B. make", "C. put", "D. do"],
                        correct: 1,
                        explanation: "'Make friends' = k·∫øt b·∫°n.",
                        type: "cloze",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    // Y√™n B√°i (12 questions - simplified to 6 key ones)
                    {
                        context: "(1)_____ the National Park has been threatened",
                        question: "(1) _____ the Park threatened",
                        options: ["A. Furthermore", "B. Moreover", "C. However", "D. Therefore"],
                        correct: 2,
                        explanation: "'However' = chuy·ªÉn t·ª´ t√≠ch c·ª±c sang ti√™u c·ª±c.",
                        type: "cloze",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "on the park (2)_____",
                        question: "(2) on the park _____",
                        options: ["A. story", "B. blog", "C. website", "D. network"],
                        correct: 2,
                        explanation: "'Park website' = website c√¥ng vi√™n.",
                        type: "cloze",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "such as (3)_____ litter",
                        question: "(3) such as _____ litter",
                        options: ["A. cutting down", "B. picking up", "C. throwing away", "D. putting out"],
                        correct: 1,
                        explanation: "'Picking up litter' = nh·∫∑t r√°c.",
                        type: "cloze",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "Aiming (30)_____ people's awareness",
                        question: "(30) Aiming _____ awareness",
                        options: ["A. to raise", "B. raise", "C. to raising", "D. raising"],
                        correct: 0,
                        explanation: "'Aim to + V' = nh·∫±m m·ª•c ƒë√≠ch.",
                        type: "cloze",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "over (32)_____ regions",
                        question: "(32) over _____ regions",
                        options: ["A. variously", "B. variety", "C. vary", "D. various"],
                        correct: 3,
                        explanation: "'Various' (adj) = ƒëa d·∫°ng.",
                        type: "cloze",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "the film's worldwide (34)_____ date",
                        question: "(34) worldwide _____ date",
                        options: ["A. debut", "B. print", "C. report", "D. release"],
                        correct: 3,
                        explanation: "'Release date' = ng√†y ph√°t h√†nh.",
                        type: "cloze",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    }
                ];

                // Reading questions (52 total - simplified to 20 key ones)
                this.readingQuestions = [
                    // Official 2025 - Project Farming (8 questions - keep 4 key)
                    {
                        passage: "The concept of project farming, where farmers collaborate on large-scale agricultural projects, has gained traction. Modern technology keeps this on track. Tools like GPS and drones ensure farms run smoothly while reducing risks.\n\nOne technology revolutionizing this farming is the camera trap. Small, waterproof, and solar-powered, these devices are positioned throughout fields, capturing images and videos to monitor insect activity. When unusual activity is detected, instant alerts are sent. Camera traps provide advance warnings, so farmers do not have to treat the whole field.\n\nBeyond pest monitoring, sensors track produce quality from field to market. Embedded in packaging, these monitor temperature and humidity in real time.\n\nProject farming shows how technology enhances teamwork and sustainability. While initial costs for equipment like drones and sensors are high, long-term benefits such as reduced labour, lower environmental impact, and higher yields make investments worthwhile.",
                        question: "What is the main idea of the passage?",
                        options: [
                            "A. Traditional farming methods are being completely replaced",
                            "B. Technology in project farming improves collaboration, efficiency, and sustainability",
                            "C. Camera traps are the most important innovation",
                            "D. Small farms cannot afford technology"
                        ],
                        correct: 1,
                        explanation: "√ù ch√≠nh: Technology c·∫£i thi·ªán collaboration, efficiency v√† sustainability.",
                        type: "reading",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        passage: "[Project Farming - SAME]",
                        question: "The word 'curb' in paragraph 2 is OPPOSITE in meaning to:",
                        options: ["A. reduce", "B. prevent", "C. control", "D. increase"],
                        correct: 3,
                        explanation: "'Curb' = ki·ªÅm ch·∫ø. Opposite = increase.",
                        type: "reading",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        passage: "[Project Farming - SAME]",
                        question: "According to paragraph 2, camera traps help farmers by:",
                        options: [
                            "A. Eliminating all insects",
                            "B. Providing early warnings so farmers can treat specific areas only",
                            "C. Replacing human monitoring",
                            "D. Increasing pesticides"
                        ],
                        correct: 1,
                        explanation: "Camera traps cung c·∫•p c·∫£nh b√°o s·ªõm, ch·ªâ x·ª≠ l√Ω khu v·ª±c c·ª• th·ªÉ.",
                        type: "reading",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    {
                        passage: "[Project Farming - SAME]",
                        question: "Which is NOT mentioned as a benefit?",
                        options: [
                            "A. Reduced labour costs",
                            "B. Lower environmental impact",
                            "C. Guaranteed profit increase for all farms",
                            "D. Higher crop yields"
                        ],
                        correct: 2,
                        explanation: "Kh√¥ng ƒë·ªÅ c·∫≠p 'guaranteed profit'.",
                        type: "reading",
                        source: "ƒê·ªÅ Ch√≠nh Th·ª©c 2025"
                    },
                    // Hanoi 2025 - AI Abuse (10 questions - keep 5 key)
                    {
                        passage: "Artificial intelligence (AI) is transforming industries, from healthcare to education. However, as AI technologies advance, the risk of AI abuse also increases. AI abuse refers to the misuse of AI systems to harm individuals or manipulate society.\n\nOne example of AI abuse is in social media, where AI-driven bots spread false information. These bots, designed to imitate real users, can post, comment, and interact with others, making it difficult to distinguish between genuine and fake content.\n\nAnother area where AI abuse has gained attention is privacy invasion. Facial recognition technology, for example, is often used by authorities for security. However, some private organisations use it without consent, tracking individuals in public spaces.\n\nTo combat AI abuse, experts suggest stricter regulations and improved awareness.",
                        question: "Which best paraphrases: 'AI abuse is a growing concern as systems become accessible'?",
                        options: [
                            "A. As AI becomes available, its misuse is becoming a bigger issue",
                            "B. AI systems are now safe from problems",
                            "C. AI abuse is decreasing",
                            "D. AI has eliminated issues"
                        ],
                        correct: 0,
                        explanation: "Paraphrase: 'accessible' = 'available', 'growing concern' = 'bigger issue'.",
                        type: "reading",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        passage: "[AI Abuse - SAME]",
                        question: "The word 'they' in paragraph 2 refers to:",
                        options: ["A. opinions", "B. real users", "C. political issues", "D. bots"],
                        correct: 3,
                        explanation: "'They can change opinions' ‚Üí they = bots.",
                        type: "reading",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        passage: "[AI Abuse - SAME]",
                        question: "NOT mentioned as a use of facial recognition:",
                        options: [
                            "A. Assisting law enforcement",
                            "B. Selling data to advertisers",
                            "C. Monitoring without consent",
                            "D. Gaining attention towards AI application"
                        ],
                        correct: 3,
                        explanation: "Kh√¥ng ƒë·ªÅ c·∫≠p 'gaining attention'.",
                        type: "reading",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        passage: "[AI Abuse - SAME]",
                        question: "'Empower' is OPPOSITE to:",
                        options: ["A. permit", "B. force", "C. encourage", "D. restrict"],
                        correct: 3,
                        explanation: "'Empower' = trao quy·ªÅn. Opposite = restrict.",
                        type: "reading",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        passage: "[AI Abuse - SAME]",
                        question: "Can be inferred:",
                        options: [
                            "A. AI bots rarely impact politics",
                            "B. Not all AI uses are harmful, but misuse causes issues",
                            "C. Regulating AI will completely stop abuse",
                            "D. Facial recognition is only a concern in public"
                        ],
                        correct: 1,
                        explanation: "Inference: AI c√≥ l·ª£i nh∆∞ng misuse g√¢y h·∫°i.",
                        type: "reading",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    // Y√™n B√°i - Green Energy (10 questions - keep 5 key)
                    {
                        passage: "As we continue to face the impacts of climate change, having a green environment has become increasingly important. To achieve this, the world is shifting towards green energy, particularly solar power and wind power.\n\nSolar power is all about harnessing the energy of the sun by using solar panels to convert sunlight into usable electricity. Moreover, solar panels are perfect for installation on a small scale, such as in private homes. However, the ability to generate solar power depends on the time of day and weather conditions.\n\nWind power involves converting the energy of the wind into electricity using large turbines. Wind power doesn't produce any greenhouse gases, but it is not ideal for private use since turbines require consistent care. However, wind farms can be installed on a large scale.\n\nFor now, the biggest challenge is the costs associated with installation and infrastructure, but the benefits unquestionably outweigh the downsides.",
                        question: "The phrase 'harnessing the energy' could best be replaced by:",
                        options: ["A. saving the energy", "B. containing the energy", "C. exploiting the power", "D. storing the power"],
                        correct: 2,
                        explanation: "'Harnessing' = khai th√°c = exploiting.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        passage: "[Green Energy - SAME]",
                        question: "According to paragraph 2, which is NOT a benefit of solar power?",
                        options: [
                            "A. Ability to generate power at all times",
                            "B. Suitability for small-scale installations",
                            "C. Long lifespan",
                            "D. Low maintenance requirements"
                        ],
                        correct: 0,
                        explanation: "A SAI v√¨ depends on time/weather.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        passage: "[Green Energy - SAME]",
                        question: "The word 'continuously' is CLOSEST in meaning to:",
                        options: ["A. regularly", "B. endlessly", "C. periodically", "D. briefly"],
                        correct: 1,
                        explanation: "'Continuously' = li√™n t·ª•c = endlessly.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        passage: "[Green Energy - SAME]",
                        question: "The word 'reducing' is OPPOSITE in meaning to:",
                        options: ["A. minimizing", "B. limiting", "C. increasing", "D. decreasing"],
                        correct: 2,
                        explanation: "'Reducing' = gi·∫£m. Opposite = increasing.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        passage: "[Green Energy - SAME]",
                        question: "Which best paraphrases: 'the benefits unquestionably outweigh the downsides'?",
                        options: [
                            "A. Green energy offers very few benefits",
                            "B. The drawbacks are too significant",
                            "C. Although green energy has some disadvantages, the positives far exceed them",
                            "D. The disadvantages will always outbalance the benefits"
                        ],
                        correct: 2,
                        explanation: "Paraphrase: 'outweigh' = 'positives far exceed'.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    // Y√™n B√°i - Fast Fashion (8 questions - keep 4 key)
                    {
                        passage: "The phrase fast fashion describes the trendiest clothes available at the lowest prices. The prices are low because stores want customers to return soon to buy more newest fashions.\n\nIn traditional fashion, new styles come out four times a year. In fast fashion, a new 'season' happens every month.\n\nOne important reason why fast fashion is less expensive is that the quality is worse. A trendy shirt doesn't need to last for years because it won't be stylish next season.\n\nSome people think fast fashion is good because it means stylish clothes at low prices. Others disagree. They think that fast fashion creates a lot of waste.",
                        question: "The word 'trendiest' is OPPOSITE in meaning to:",
                        options: ["A. stylish", "B. popular", "C. fashionable", "D. out-of-date"],
                        correct: 3,
                        explanation: "'Trendiest' = h·ª£p th·ªùi. Opposite = out-of-date.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        passage: "[Fast Fashion - SAME]",
                        question: "Which is NOT mentioned as a characteristic?",
                        options: [
                            "A. Stores release new styles often",
                            "B. Clothes are sold at low prices",
                            "C. Clothing is made to last long",
                            "D. The industry creates waste"
                        ],
                        correct: 2,
                        explanation: "C KH√îNG ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p. Ng∆∞·ª£c l·∫°i n√≥i 'doesn't need to last'.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        passage: "[Fast Fashion - SAME]",
                        question: "The word 'synthetic' could best be replaced by:",
                        options: ["A. cheap", "B. fake", "C. natural", "D. artificial"],
                        correct: 3,
                        explanation: "'Synthetic' = t·ªïng h·ª£p = artificial.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        passage: "[Fast Fashion - SAME]",
                        question: "Which is TRUE according to the passage?",
                        options: [
                            "A. Traditional fashion releases styles every month",
                            "B. Acrylic sweaters are common in fast fashion stores",
                            "C. Cotton production does not require much water",
                            "D. Fast fashion clothes are designed to last for years"
                        ],
                        correct: 1,
                        explanation: "B ƒê√öNG: 'more likely to find a sweater made of acrylic'.",
                        type: "reading",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    }
                ];

                // Sentence Insertion questions (9 total: 4 Hanoi + 5 Y√™n B√°i)
                this.sentenceInsertionQuestions = [
                    // Hanoi (4 questions)
                    {
                        context: "Modern art can be controversial. Take Andy Warhol's Campbell's Soup Cans. (37)_____ in Los Angeles in 1962.",
                        question: "(37) _____ in Los Angeles",
                        options: [
                            "A. At the moment it is exhibited",
                            "B. Having been displayed at the time",
                            "C. When it was displayed at the Ferus Gallery",
                            "D. Displayed for the first time"
                        ],
                        correct: 2,
                        explanation: "M·ªánh ƒë·ªÅ th·ªùi gian: When it was displayed...",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        context: "Carl Andre created Equivalent VIII, an installation (38)_____.",
                        question: "(38) an installation _____",
                        options: [
                            "A. that is just an ordinary pile of bricks",
                            "B. of which made entirely out of basic bricks",
                            "C. appears as nothing but a formation of bricks",
                            "D. consists only of basic bricks stacked together"
                        ],
                        correct: 0,
                        explanation: "M·ªánh ƒë·ªÅ quan h·ªá: an installation THAT IS...",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        context: "The Tate, (39)_____ England, bought the work.",
                        question: "(39) The Tate, _____ England",
                        options: [
                            "A. one of the most famous gallery",
                            "B. which a famous gallery",
                            "C. a famous gallery in London",
                            "D. where is a famous gallery"
                        ],
                        correct: 2,
                        explanation: "ƒê·ªìng v·ªã ng·ªØ (appositive): The Tate, a famous gallery,",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    {
                        context: "Will people think they are works of genius, (40)_____?",
                        question: "(40) or _____?",
                        options: [
                            "A. or will their opinion change in a less favorable way",
                            "B. or will people be unable to impress",
                            "C. or maybe they won't think of it so highly",
                            "D. or future generations may not appreciate"
                        ],
                        correct: 0,
                        explanation: "C√¢u h·ªèi song song: genius OR opinion change.",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ H√† N·ªôi 2025"
                    },
                    // Y√™n B√°i Crime Tech (5 questions)
                    {
                        context: "Police forces (25)_____ to predict crime before it happens.",
                        question: "(25) police forces _____",
                        options: [
                            "A. are using it to improve crime prevention",
                            "B. that use it as a method to prevent crime",
                            "C. on whom it depends for decreased crime",
                            "D. having utilised it to stop activities"
                        ],
                        correct: 0,
                        explanation: "C√¢u c·∫ßn ƒë·ªông t·ª´ ch√≠nh: 'are using it'.",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "Crime prevention software called Predpol helps predict where crimes are likely to occur. (26)_____",
                        question: "(26) How does Predpol work?",
                        options: [
                            "A. The analysis of the software helps locate",
                            "B. Analysing years of data on the location",
                            "C. Location, time and crimes are included",
                            "D. The software analyses years of data on the location, time and nature of crimes committed"
                        ],
                        correct: 3,
                        explanation: "D ƒë√∫ng c·∫•u tr√∫c: Software (S) + analyses (V) + data.",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "Crime figures for LA were reduced by 12% in 2011. (27)_____",
                        question: "(27) What happened next?",
                        options: [
                            "A. The following year, Manchester had 26%",
                            "B. In the previous year, Manchester adopted",
                            "C. The year after, 26% of similar methods",
                            "D. In the same year, burglaries were cut by 26% in Manchester, UK, using the same methods"
                        ],
                        correct: 3,
                        explanation: "D: 'In the same year' (2011) + 'cut by 26%' logic r√µ r√†ng.",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "By combining information such as crime places with fastest escape routes, (28)_____",
                        question: "(28) _____ result",
                        options: [
                            "A. computers will direct patrols to where they can arrest criminals",
                            "B. patrols will connect computers",
                            "C. criminals will be arrested using computers",
                            "D. directions from computers will help"
                        ],
                        correct: 0,
                        explanation: "A: Computers (S) + will direct (V) + patrols.",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    },
                    {
                        context: "If the police just focus on the neighbourhoods (29)_____, they will neglect others.",
                        question: "(29) on the neighbourhoods _____",
                        options: [
                            "A. fights a rise in crime",
                            "B. by which crime involves",
                            "C. where most crime occurs",
                            "D. have crime everywhere"
                        ],
                        correct: 2,
                        explanation: "C: 'neighbourhoods WHERE most crime occurs' ƒë√∫ng.",
                        type: "sentence-insertion",
                        source: "ƒê·ªÅ Y√™n B√°i 2025"
                    }
                ];
            },

            // Setup Event Listeners
            setupEventListeners() {
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        this.showSection(btn.dataset.section);
                    });
                });

                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const parent = btn.closest('.section, #mocktest');
                        const tab = btn.dataset.tab;
                        
                        parent.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                        parent.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                        
                        btn.classList.add('active');
                        parent.querySelector(`#${tab}`).classList.add('active');

                        if (tab === 'quiz-ordering') this.loadQuiz('ordering', 'ordering-quiz');
                        if (tab === 'quiz-cloze') this.loadQuiz('cloze', 'cloze-quiz');
                        if (tab === 'quiz-reading') this.loadQuiz('reading', 'reading-quiz');
                        if (tab === 'quiz-insertion') this.loadQuiz('insertion', 'insertion-quiz');
                    });
                });
            },

            // Show Section
            showSection(sectionId) {
                if (this.mockTimer) {
                    clearInterval(this.mockTimer);
                    this.mockTimer = null;
                }
                
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                
                document.getElementById(sectionId).classList.add('active');
                document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');

                if (sectionId === 'practice') {
                    this.loadQuiz('ordering', 'ordering-quiz');
                } else if (sectionId === 'mistakes') {
                    this.displayMistakes();
                }
            },

            // Load Quiz
            loadQuiz(type, containerId) {
                const container = document.getElementById(containerId);
                let questions = [];
                
                if (type === 'cloze') questions = this.clozeQuestions;
                else if (type === 'reading') questions = this.readingQuestions;
                else if (type === 'ordering') questions = this.orderingQuestions;
                else if (type === 'insertion') questions = this.sentenceInsertionQuestions;

                container.innerHTML = '';
                
                questions.forEach((q, idx) => {
                    const card = this.createQuestionCard(q, idx);
                    container.appendChild(card);
                });
            },

            // Create Question Card
            createQuestionCard(q, idx) {
                const card = document.createElement('div');
                card.className = 'question-card';
                
                let html = '';
                
                if (q.passage) {
                    html += `<div class="passage-box">${q.passage.replace(/\n/g, '<br><br>')}</div>`;
                } else if (q.context) {
                    html += `<div style="background: #f0f9ff; padding: 15px; border-radius: 6px; margin-bottom: 15px; font-style: italic;">${q.context.replace(/\n/g, '<br>')}</div>`;
                }
                
                html += `<div class="question-text"><strong>C√¢u ${idx + 1}:</strong> ${q.question}</div>`;
                
                if (q.sentences) {
                    html += '<div style="background: #fef3c7; padding: 15px; margin-bottom: 15px; border-radius: 6px;">';
                    q.sentences.forEach(s => html += `<div style="margin-bottom: 8px;">${s}</div>`);
                    html += '</div>';
                }
                
                html += '<div class="options">';
                q.options.forEach((opt, i) => {
                    html += `<div class="option" data-idx="${i}"><span class="option-label">${opt.charAt(0)}</span><span>${opt.substring(3)}</span></div>`;
                });
                html += '</div>';
                
                html += `<div class="explanation">
                    <strong>‚úì ƒê√°p √°n ƒë√∫ng: ${q.options[q.correct]}</strong><br>
                    <strong>Gi·∫£i th√≠ch:</strong> ${q.explanation}<br>
                    ${q.trap ? `<span style="color: #dc2626;"><strong>‚ö†Ô∏è B·∫´y:</strong> ${q.trap}</span><br>` : ''}
                    ${q.source ? `<span style="color: #1e3a8a; font-size: 12px; font-weight: 600;">üìù ${q.source}</span>` : ''}
                </div>`;
                
                card.innerHTML = html;

                const options = card.querySelectorAll('.option');
                const explanation = card.querySelector('.explanation');
                let answered = false;

                options.forEach(opt => {
                    opt.addEventListener('click', () => {
                        if (answered) return;
                        
                        const selected = parseInt(opt.dataset.idx);
                        answered = true;

                        options.forEach(o => {
                            const oIdx = parseInt(o.dataset.idx);
                            if (oIdx === q.correct) {
                                o.classList.add('correct');
                            } else if (oIdx === selected && selected !== q.correct) {
                                o.classList.add('wrong');
                                this.saveMistake(q);
                            }
                        });

                        explanation.classList.add('show');
                    });
                });

                return card;
            },

            // Save Mistake
            saveMistake(question) {
                const exists = this.mistakes.some(m => m.question === question.question);
                if (!exists) {
                    this.mistakes.push({...question, timestamp: new Date().toLocaleString()});
                }
            },

            // Display Mistakes
            displayMistakes() {
                const container = document.getElementById('mistakes-list');
                
                if (this.mistakes.length === 0) {
                    container.innerHTML = '<p style="color: #6b7280;">Ch∆∞a c√≥ c√¢u n√†o sai. Tuy·ªát v·ªùi!</p>';
                    return;
                }

                container.innerHTML = this.mistakes.map((m, idx) => `
                    <div class="mistake-item">
                        <div class="question-text"><strong>C√¢u ${idx + 1}:</strong> ${m.question}</div>
                        ${m.context ? `<p style="font-style: italic; color: #6b7280; margin-top: 10px;">${m.context}</p>` : ''}
                        <p><strong>ƒê√°p √°n ƒë√∫ng:</strong> ${m.options[m.correct]}</p>
                        <div class="mistake-reason"><strong>Gi·∫£i th√≠ch:</strong> ${m.explanation}</div>
                        ${m.trap ? `<p style="color: #dc2626; margin-top: 10px;"><strong>B·∫´y:</strong> ${m.trap}</p>` : ''}
                        <p style="font-size: 12px; color: #6b7280; margin-top: 10px;">L√†m sai l√∫c: ${m.timestamp}</p>
                    </div>
                `).join('');
            },

            // Redo Mistakes
            redoMistakes() {
                if (this.mistakes.length === 0) {
                    alert('Kh√¥ng c√≥ c√¢u sai n√†o ƒë·ªÉ l√†m l·∫°i!');
                    return;
                }
                
                const container = document.getElementById('mistakes-list');
                container.innerHTML = '';
                
                this.mistakes.forEach((q, idx) => {
                    const card = this.createQuestionCard(q, idx);
                    container.appendChild(card);
                });
            },

            // Build Mock Questions
            buildMockQuestions(type) {
                if (type === 'hanoi') {
                    const hanoiOrdering = this.orderingQuestions.slice(0, 5);
                    const hanoiCloze = this.clozeQuestions.slice(6, 16);
                    const hanoiReading = this.readingQuestions.filter(q => q.source && q.source.includes('H√† N·ªôi'));
                    const hanoiInsertion = this.sentenceInsertionQuestions.slice(0, 4);
                    
                    this.currentMockQuestions = [
                        ...hanoiOrdering,
                        ...hanoiCloze,
                        ...hanoiReading,
                        ...hanoiInsertion
                    ].slice(0, 40);
                } else if (type === 'yenbai') {
                    const yenbaiOrdering = this.orderingQuestions.slice(5, 10);
                    const yenbaiCloze = this.clozeQuestions.filter(q => q.source && q.source.includes('Y√™n B√°i'));
                    const yenbaiReading = this.readingQuestions.filter(q => q.source && q.source.includes('Y√™n B√°i'));
                    const yenbaiInsertion = this.sentenceInsertionQuestions.slice(4, 9);
                    
                    this.currentMockQuestions = [
                        ...yenbaiOrdering,
                        ...yenbaiCloze,
                        ...yenbaiReading,
                        ...yenbaiInsertion
                    ].slice(0, 40);
                } else {
                    const mixOrdering = this.orderingQuestions.slice(0, 5);
                    const mixCloze = this.clozeQuestions.slice(0, 13);
                    const mixReading = this.readingQuestions.slice(0, 18);
                    const mixInsertion = this.sentenceInsertionQuestions.slice(0, 4);
                    
                    this.currentMockQuestions = [
                        ...mixOrdering,
                        ...mixCloze,
                        ...mixReading,
                        ...mixInsertion
                    ];
                }
            },

            // Start Mock Test
            startMockTest(type) {
                this.currentMockType = type;
                this.buildMockQuestions(type);
                
                document.getElementById(`mocktest-${type}-start`).style.display = 'none';
                document.getElementById(`mocktest-${type}-ongoing`).style.display = 'block';
                
                this.currentMockQuestion = 0;
                this.mockTestAnswers = new Array(40).fill(null);
                this.mockTimeLeft = 3000;
                
                this.startTimer(type);
                this.loadMockQuestion(type);
            },

            // Start Timer
            startTimer(type) {
                const timerEl = document.getElementById(`timer-${type}`);
                
                if (this.mockTimer) clearInterval(this.mockTimer);
                
                this.mockTimer = setInterval(() => {
                    this.mockTimeLeft--;
                    
                    const minutes = Math.floor(this.mockTimeLeft / 60);
                    const seconds = this.mockTimeLeft % 60;
                    timerEl.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                    
                    if (this.mockTimeLeft <= 300) timerEl.classList.add('warning');
                    
                    if (this.mockTimeLeft <= 0) {
                        clearInterval(this.mockTimer);
                        this.finishMockTest(type);
                    }
                }, 1000);
            },

            // Load Mock Question
            loadMockQuestion(type) {
                const container = document.getElementById(`mocktest-questions-${type}`);
                const q = this.currentMockQuestions[this.currentMockQuestion];
                
                if (!q) {
                    console.error('Question not found at index:', this.currentMockQuestion);
                    return;
                }
                
                document.getElementById(`current-q-${type}`).textContent = this.currentMockQuestion + 1;
                document.getElementById(`progress-${type}`).style.width = ((this.currentMockQuestion + 1) / 40 * 100) + '%';
                
                let html = '<div class="question-card">';
                
                if (q.passage) {
                    html += `<div class="passage-box">${q.passage.replace(/\n/g, '<br><br>')}</div>`;
                } else if (q.context) {
                    html += `<div style="background: #f0f9ff; padding: 15px; border-radius: 6px; margin-bottom: 15px;">${q.context.replace(/\n/g, '<br>')}</div>`;
                }
                
                html += `<div class="question-text"><strong>C√¢u ${this.currentMockQuestion + 1}/40:</strong> ${q.question}</div>`;
                
                if (q.sentences) {
                    html += '<div style="background: #fef3c7; padding: 15px; margin-bottom: 15px; border-radius: 6px;">';
                    q.sentences.forEach(s => html += `<div style="margin-bottom: 8px;">${s}</div>`);
                    html += '</div>';
                }
                
                html += '<div class="options">';
                q.options.forEach((opt, i) => {
                    const selected = this.mockTestAnswers[this.currentMockQuestion] === i ? 'selected' : '';
                    html += `<div class="option ${selected}" data-idx="${i}"><span class="option-label">${opt.charAt(0)}</span><span>${opt.substring(3)}</span></div>`;
                });
                html += '</div>';
                
                html += `<div style="margin-top: 20px; display: flex; gap: 10px;">
                    ${this.currentMockQuestion > 0 ? `<button class="btn btn-secondary" onclick="app.prevMockQuestion('${type}')">‚Üê C√¢u tr∆∞·ªõc</button>` : ''}
                    ${this.currentMockQuestion < 39 ? `<button class="btn" onclick="app.nextMockQuestion('${type}')">C√¢u sau ‚Üí</button>` : `<button class="btn" onclick="app.finishMockTest('${type}')">N·ªôp b√†i</button>`}
                </div></div>`;
                
                container.innerHTML = html;

                container.querySelectorAll('.option').forEach(opt => {
                    opt.addEventListener('click', () => {
                        const idx = parseInt(opt.dataset.idx);
                        this.mockTestAnswers[this.currentMockQuestion] = idx;
                        
                        container.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
                        opt.classList.add('selected');
                    });
                });
            },

            // Next Question
            nextMockQuestion(type) {
                if (this.currentMockQuestion < 39) {
                    this.currentMockQuestion++;
                    this.loadMockQuestion(type);
                }
            },

            // Previous Question
            prevMockQuestion(type) {
                if (this.currentMockQuestion > 0) {
                    this.currentMockQuestion--;
                    this.loadMockQuestion(type);
                }
            },

            // Finish Mock Test
            finishMockTest(type) {
                clearInterval(this.mockTimer);
                
                const questions = this.currentMockQuestions;
                
                if (!questions || questions.length !== 40) {
                    alert('L·ªói: Kh√¥ng ƒë·ªß c√¢u h·ªèi cho b√†i thi!');
                    return;
                }
                
                let correct = 0;
                let orderingCorrect = 0, orderingTotal = 0;
                let clozeCorrect = 0, clozeTotal = 0;
                let readingCorrect = 0, readingTotal = 0;
                let insertionCorrect = 0, insertionTotal = 0;
                
                questions.forEach((q, idx) => {
                    if (this.mockTestAnswers[idx] === q.correct) {
                        correct++;
                        if (q.type === 'ordering') orderingCorrect++;
                        else if (q.type === 'cloze') clozeCorrect++;
                        else if (q.type === 'reading') readingCorrect++;
                        else if (q.type === 'sentence-insertion') insertionCorrect++;
                    }
                    
                    if (q.type === 'ordering') orderingTotal++;
                    else if (q.type === 'cloze') clozeTotal++;
                    else if (q.type === 'reading') readingTotal++;
                    else if (q.type === 'sentence-insertion') insertionTotal++;
                });
                
                const score = (correct / 40 * 10).toFixed(1);
                
                document.getElementById(`mocktest-${type}-ongoing`).style.display = 'none';
                document.getElementById(`mocktest-${type}-result`).style.display = 'block';
                document.getElementById(`final-score-${type}`).textContent = score;
                
                let evaluation = '';
                if (score >= 9.0) evaluation = 'üèÜ Xu·∫•t s·∫Øc! B·∫°n ƒë√£ s·∫µn s√†ng cho k·ª≥ thi!';
                else if (score >= 8.0) evaluation = 'üéØ R·∫•t t·ªët! Ti·∫øp t·ª•c luy·ªán t·∫≠p!';
                else if (score >= 7.0) evaluation = 'üí™ Kh√° t·ªët! C·∫ßn c·∫£i thi·ªán Reading.';
                else if (score >= 5.0) evaluation = 'üìö C·∫ßn h·ªçc th√™m. T·∫≠p trung v√†o t·ª´ v·ª±ng.';
                else evaluation = '‚ö†Ô∏è C·∫ßn n·ªó l·ª±c nhi·ªÅu h∆°n!';
                
                document.getElementById(`evaluation-${type}`).innerHTML = `<p style="margin: 20px 0; padding: 15px; background: #f0f9ff; border-radius: 6px; font-size: 18px;">${evaluation}</p>`;
                
                document.getElementById(`breakdown-${type}`).innerHTML = `
                    <div class="score-item">
                        <div class="label">T·ªïng c√¢u ƒë√∫ng</div>
                        <div class="value">${correct}/40</div>
                    </div>
                    <div class="score-item">
                        <div class="label">S·∫Øp x·∫øp c√¢u</div>
                        <div class="value">${orderingCorrect}/${orderingTotal}</div>
                    </div>
                    <div class="score-item">
                        <div class="label">ƒê·ªçc ƒëi·ªÅn</div>
                        <div class="value">${clozeCorrect}/${clozeTotal}</div>
                    </div>
                    <div class="score-item">
                        <div class="label">ƒê·ªçc hi·ªÉu</div>
                        <div class="value">${readingCorrect}/${readingTotal}</div>
                    </div>
                    <div class="score-item">
                        <div class="label">ƒêi·ªÅn c√¢u</div>
                        <div class="value">${insertionCorrect}/${insertionTotal}</div>
                    </div>
                `;
            },

            // Reset Mock Test
            resetMockTest(type) {
                if (this.mockTimer) {
                    clearInterval(this.mockTimer);
                    this.mockTimer = null;
                }
                
                document.getElementById(`mocktest-${type}-result`).style.display = 'none';
                document.getElementById(`mocktest-${type}-start`).style.display = 'block';
                
                this.mockTestAnswers = [];
                this.currentMockQuestion = 0;
                this.mockTimeLeft = 3000;
                this.currentMockQuestions = [];
                this.currentMockType = null;
            }
        };

        // Initialize app when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => app.init());
        } else {
            app.init();
        }
    </script>
</body>
</html>